<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversor de Lista de Produtos - Versão 2</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eaeaea;
        }
        
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #7f8c8d;
            font-size: 1.1rem;
        }
        
        .instructions {
            background-color: #f8f9fa;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin-bottom: 25px;
            border-radius: 0 5px 5px 0;
        }
        
        .instructions h2 {
            color: #2c3e50;
            font-size: 1.2rem;
            margin-bottom: 8px;
        }
        
        .process-steps {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        .step {
            flex: 1;
            min-width: 200px;
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin: 0 5px 10px;
            text-align: center;
        }
        
        .step-number {
            display: inline-block;
            width: 30px;
            height: 30px;
            background: #3498db;
            color: white;
            border-radius: 50%;
            line-height: 30px;
            margin-bottom: 10px;
        }
        
        .converter {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .converter {
                grid-template-columns: 1fr;
            }
        }
        
        .input-section, .output-section {
            display: flex;
            flex-direction: column;
        }
        
        label {
            font-weight: 600;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        textarea {
            width: 100%;
            height: 300px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
            font-size: 14px;
            line-height: 1.5;
            font-family: monospace;
        }
        
        textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }
        
        .buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        
        button {
            padding: 12px 25px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
        }
        
        button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        #clearBtn {
            background-color: #e74c3c;
        }
        
        #clearBtn:hover {
            background-color: #c0392b;
        }
        
        #copyBtn {
            background-color: #2ecc71;
        }
        
        #copyBtn:hover {
            background-color: #27ae60;
        }
        
        #autoExtractBtn {
            background-color: #9b59b6;
        }
        
        #autoExtractBtn:hover {
            background-color: #8e44ad;
        }
        
        .example {
            background-color: #f9f9f9;
            border-radius: 5px;
            padding: 15px;
            margin-top: 30px;
            border: 1px dashed #ddd;
        }
        
        .example h3 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .code-block {
            background-color: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 10px 0;
            font-family: monospace;
            font-size: 14px;
        }
        
        footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #eaeaea;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background-color: #2ecc71;
            color: white;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1000;
            animation: fadeInOut 3s ease;
        }
        
        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(-10px); }
            10% { opacity: 1; transform: translateY(0); }
            90% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-10px); }
        }
        
        .highlight {
            background-color: #fffacd;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Extrator de Conteúdo entre Aspas</h1>
            <p class="subtitle">Extrai apenas o texto entre aspas, ignorando vírgulas e outros caracteres fora delas</p>
        </header>
        
        <div class="instructions">
            <h2>Como funciona:</h2>
            <p>Esta ferramenta identifica e extrai <span class="highlight">APENAS o conteúdo que está entre aspas duplas ("")</span>, ignorando completamente vírgulas, espaços, quebras de linha e qualquer outro texto que esteja fora das aspas.</p>
            
            <div class="process-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div>Localiza tudo entre aspas</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div>Ignora vírgulas fora das aspas</div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div>Remove as próprias aspas</div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div>Organiza um item por linha</div>
                </div>
            </div>
        </div>
        
        <div class="converter">
            <div class="input-section">
                <label for="inputText">Cole sua lista aqui (texto com aspas):</label>
                <textarea id="inputText" placeholder="Cole seu texto aqui, por exemplo:
\"Biscoitinho de doce grande 10 unidades\",
  \"Biscoitinho doce frito 7kg\",
  \"Biscoito chipa 7kg\", ..."></textarea>
            </div>
            
            <div class="output-section">
                <label for="outputText">Resultado (apenas conteúdo das aspas):</label>
                <textarea id="outputText" placeholder="Aqui aparecerá apenas o texto que estava entre aspas..." readonly></textarea>
            </div>
        </div>
        
        <div class="buttons">
            <button id="extractBtn">Extrair Conteúdo</button>
            <button id="autoExtractBtn">Extrair Automaticamente</button>
            <button id="clearBtn">Limpar Tudo</button>
            <button id="copyBtn">Copiar Resultado</button>
        </div>
        
        <div class="example">
            <h3>Exemplo de como funciona:</h3>
            
            <p><strong>Entrada (com aspas, vírgulas e espaços fora delas):</strong></p>
            <div class="code-block">
                "Biscoitinho de doce grande 10 unidades",<br>
                &nbsp;&nbsp;"Biscoitinho doce frito 7kg",<br>
                &nbsp;&nbsp;"Biscoito chipa 7kg",<br>
                &nbsp;&nbsp;"Biscoito de queijo 7kg",
            </div>
            
            <p><strong>Processo:</strong></p>
            <ol>
                <li>Localiza tudo entre <code>"</code> e <code>"</code></li>
                <li>Ignora vírgulas e espaços fora das aspas</li>
                <li>Remove as próprias aspas</li>
                <li>Organiza um item por linha</li>
            </ol>
            
            <p><strong>Saída (apenas conteúdo das aspas):</strong></p>
            <div class="code-block">
                Biscoitinho de doce grande 10 unidades<br>
                Biscoitinho doce frito 7kg<br>
                Biscoito chipa 7kg<br>
                Biscoito de queijo 7kg
            </div>
        </div>
        
        <footer>
            <p>Ferramenta para extrair texto entre aspas | Extrai apenas o conteúdo das aspas, ignorando tudo fora delas</p>
        </footer>
    </div>
    
    <div class="notification" id="notification">Texto copiado para a área de transferência!</div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const inputText = document.getElementById('inputText');
            const outputText = document.getElementById('outputText');
            const extractBtn = document.getElementById('extractBtn');
            const autoExtractBtn = document.getElementById('autoExtractBtn');
            const clearBtn = document.getElementById('clearBtn');
            const copyBtn = document.getElementById('copyBtn');
            const notification = document.getElementById('notification');
            
            // Função para extrair o conteúdo entre aspas
            function extractText() {
                let text = inputText.value;
                
                // Expressão regular para encontrar tudo entre aspas duplas
                // g: global (encontra todas as ocorrências)
                // m: multiline (procura em múltiplas linhas)
                const regex = /"([^"]*)"/gm;
                
                // Encontrar todas as correspondências
                let matches = [];
                let match;
                
                while ((match = regex.exec(text)) !== null) {
                    // match[1] contém o conteúdo entre as aspas (sem as aspas)
                    if (match[1].trim().length > 0) {
                        matches.push(match[1].trim());
                    }
                }
                
                // Se não encontrou nada entre aspas, tentar um método alternativo
                if (matches.length === 0) {
                    // Tentar encontrar texto que parece estar entre aspas de forma diferente
                    const altRegex = /"([^"\\]*(?:\\.[^"\\]*)*)"/g;
                    const altMatches = text.match(altRegex);
                    
                    if (altMatches) {
                        matches = altMatches.map(item => {
                            // Remover as aspas do início e fim
                            return item.substring(1, item.length - 1).trim();
                        }).filter(item => item.length > 0);
                    }
                }
                
                // Se ainda não encontrou nada, mostrar mensagem
                if (matches.length === 0) {
                    outputText.value = "Nenhum texto entre aspas encontrado!";
                    showNotification("Nenhum texto entre aspas encontrado!", "warning");
                    return;
                }
                
                // Juntar os resultados com quebras de linha
                const result = matches.join('\n');
                
                outputText.value = result;
                showNotification(`Extraídos ${matches.length} itens entre aspas!`, "success");
            }
            
            // Função para extrair automaticamente quando o texto muda
            function setupAutoExtract() {
                let autoExtractEnabled = false;
                
                autoExtractBtn.addEventListener('click', function() {
                    autoExtractEnabled = !autoExtractEnabled;
                    
                    if (autoExtractEnabled) {
                        autoExtractBtn.textContent = "Auto Extrair: ON";
                        autoExtractBtn.style.backgroundColor = "#16a085";
                        extractText(); // Extrair uma vez ao ativar
                    } else {
                        autoExtractBtn.textContent = "Auto Extrair: OFF";
                        autoExtractBtn.style.backgroundColor = "#9b59b6";
                    }
                });
                
                // Extrair automaticamente quando o usuário digita (com debounce)
                let timeoutId;
                inputText.addEventListener('input', function() {
                    if (autoExtractEnabled) {
                        clearTimeout(timeoutId);
                        timeoutId = setTimeout(extractText, 500); // Aguarda 500ms após a última digitação
                    }
                });
                
                // Extrair quando o usuário cola texto (Ctrl+V)
                inputText.addEventListener('paste', function() {
                    if (autoExtractEnabled) {
                        // Pequeno delay para garantir que o texto foi colado
                        setTimeout(extractText, 100);
                    }
                });
            }
            
            // Função para limpar os campos
            function clearFields() {
                inputText.value = '';
                outputText.value = '';
                inputText.focus();
                showNotification("Campos limpos!", "info");
            }
            
            // Função para copiar o resultado
            function copyResult() {
                outputText.select();
                outputText.setSelectionRange(0, 99999); // Para dispositivos móveis
                
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        showNotification("Texto copiado para a área de transferência!", "success");
                    } else {
                        showNotification("Não foi possível copiar o texto.", "warning");
                    }
                } catch (err) {
                    // Fallback para a API moderna
                    navigator.clipboard.writeText(outputText.value)
                        .then(() => {
                            showNotification("Texto copiado para a área de transferência!", "success");
                        })
                        .catch(() => {
                            showNotification("Não foi possível copiar o texto.", "warning");
                        });
                }
            }
            
            // Função para mostrar notificação
            function showNotification(message, type = "success") {
                notification.textContent = message;
                
                // Cores diferentes para tipos diferentes
                if (type === "success") {
                    notification.style.backgroundColor = "#2ecc71";
                } else if (type === "warning") {
                    notification.style.backgroundColor = "#e67e22";
                } else if (type === "info") {
                    notification.style.backgroundColor = "#3498db";
                }
                
                notification.style.display = 'block';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000);
            }
            
            // Adicionar exemplo de entrada para facilitar o teste
            inputText.value = `"Biscoitinho de doce grande 10 unidades",
  "Biscoitinho doce frito 7kg",
  "Biscoito chipa 7kg",
  "Biscoito de queijo 7kg",
  "Biscoito três queijos 7kg",
  "Bolinha de carne pequena 1kg",
  "Broinha de fubá doce 7kg",
  "Broinha de fubá doce grande 7kg",
  "Broinha de sal e queijo 7kg",
  "Broinha temperada com bacon 7kg",
  "Canudinho de queijo 7kg",
  "Canudinho Romeu e Julieta 7kg",
  "Carioca 7kg",
  "Coxinha de frango grande 10 unidades",
  "Coxinha de frango pequena 1kg",
  "Croissant de frango 7kg",
  "Croissant de presunto 7kg",
  "Empadão de frango com catupiry 10 unidades",
  "Empadinha de frango pequena 1kg",
  "Enroladinho de presunto e mussarela grande 10 uni",
  "Enroladinho de presunto pequeno 1kg",
  "Enroladinho de salsicha grande 10 unidades",
  "Mandi 7kg",
  "Meia lua 7kg",
  "Mini carioca 7kg",
  "Mini pão francês 06hrs 7kg",
  "Panhoca 06hrs 7kg",
  "Pão de queijo recheado frango grande 7kg",
  "Pão de queijo recheado frango pequeno 7kg",
  "Pão de queijo tradicional grande 7kg",
  "Pão de queijo tradicional pequeno 7kg",
  "Pão francês 04hrs 7kg",
  "Pão francês 06hrs 7kg",
  "Pão francês 12hrs 7kg",
  "Pastelzinho catupiry pequeno 1kg",
  "Quibe com catupiry pequeno 1kg",
  "Quibe grande 1kg",
  "Rosca caseira PCT com 10 unidades",
  "Tortinha de frango, abacaxi e passas 10 unidades"`;
            
            // Adicionar eventos aos botões
            extractBtn.addEventListener('click', extractText);
            clearBtn.addEventListener('click', clearFields);
            copyBtn.addEventListener('click', copyResult);
            
            // Configurar extração automática
            setupAutoExtract();
            
            // Extrair automaticamente ao carregar a página (para o exemplo)
            extractText();
        });
    </script>
</body>
</html>
